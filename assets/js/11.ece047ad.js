(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{163:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("p",[t._v("线程和进程区分不清，是很多新手都会犯的错误，没有关系。这很正常。先看看下面这个形象的比喻：")]),t._v(" "),t._m(4),a("p",[t._v("再完善完善概念：")]),t._v(" "),t._m(5),a("p",[t._v("进程是cpu==资源分配==的==最小单位==（是能拥有资源和独立运行的最小单位）")]),t._v(" "),a("p",[t._v("线程是cpu==调度的最小单位==（线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程）")]),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("知道了浏览器是多进程后，再来看看它到底包含哪些进程：（为了简化理解，仅列举主要进程）")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("可以这样理解，页面的渲染，JS的执行，事件的循环，都在这个进程内进行。接下来重点分析这个进程")]),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("终于到了线程这个概念了?，好亲切。那么接下来看看它都包含了哪些线程（列举一些主要常驻线程）：")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),a("p",[t._v("再说一点，为什么JS引擎是单线程的？额，这个问题其实应该没有标准答案，譬如，可能仅仅是因为由于多线程的复杂性，譬如多线程操作一般要加锁，因此最初设计时选择了单线程。。。")]),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("看到这里，首先，应该对浏览器内的进程和线程都有一定理解了，那么接下来，再谈谈浏览器的Browser进程（控制进程）是如何和内核通信的，\n这点也理解后，就可以将这部分的知识串联起来，从头到尾有一个完整的概念。")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("这里绘一张简单的图：（很简化）")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("看完这一整套流程，应该对浏览器的运作有了一定理解了，这样有了知识架构的基础后，后续就方便往上填充内容。")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),a("p",[t._v("前文中有提到JS引擎是单线程的，而且JS执行时间过长会阻塞页面，那么JS就真的对cpu密集型计算无能为力么？")]),t._v(" "),t._m(20),t._v(" "),a("p",[t._v("MDN的官方解释是：")]),t._v(" "),t._m(21),a("p",[t._v("这样理解下：")]),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("==所以，如果有非常耗时的工作，请单独开一个Worker线程，这样里面不管如何翻天覆地都不会影响JS引擎主线程==，\n只待计算出结果后，将结果通信给主线程即可，perfect!")]),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("其它，关于Worker的详解就不是本文的范畴了，因此不再赘述。")]),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("看到这里，应该就很容易明白了，本质上就是进程和线程的区别。==SharedWorker由独立的进程管理，WebWorker只是属于render进程下的一个线程==")]),t._v(" "),t._m(27),t._v(" "),a("p",[t._v("前面有提到http交互，那么接下来就是浏览器获取到html，然后解析，渲染")]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("浏览器内核拿到内容后，渲染步骤大致可以分为以下几步：")]),t._v(" "),t._m(30),a("p",[t._v("如下图：")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),a("p",[t._v("整个渲染步骤中，HTML解析是第一步。")]),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("但实际上，在分析整体构建时，却不能一笔带过，得稍微展开。")]),t._v(" "),a("p",[t._v("解析HTML到构建出DOM当然过程可以简述如下：")]),t._v(" "),t._m(34),a("p",[t._v("譬如假设有这样一个HTML页面：（以下部分的内容出自参考来源，修改了下格式）")]),t._v(" "),t._m(35),a("p",[t._v("浏览器的处理如下：")]),t._v(" "),t._m(36),t._v(" "),a("p",[t._v("列举其中的一些重点过程：")]),t._v(" "),t._m(37),a("p",[t._v("最后的DOM树如下：")]),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),a("p",[t._v("同理，CSS规则树的生成也是类似。简述为：")]),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),a("p",[t._v("那么最终的CSSOM树就是：")]),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),a("p",[t._v("当DOM树和CSSOM都有了后，就要开始构建渲染树了")]),t._v(" "),a("p",[t._v("一般来说，渲染树和DOM树相对应的，但不是严格意义上的一一对应")]),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("整体来说可以看图：")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),a("p",[t._v("有了render树，接下来就是开始渲染，基本流程如下：")]),t._v(" "),t._m(48),t._v(" "),a("p",[t._v("图中重要的四个步骤就是：")]),t._v(" "),t._m(49),a("p",[t._v("然后，图中的线与箭头代表通过js动态修改了DOM或CSS，导致了重新布局（Layout）或渲染（Repaint）")]),t._v(" "),a("p",[t._v("这里Layout和Repaint的概念是有区别的：")]),t._v(" "),t._m(50),t._v(" "),a("p",[t._v("回流的成本开销要高于重绘，而且一个节点的回流往往回导致子节点以及同级节点的回流，\n所以优化方案中一般都包括，尽量避免回流。")]),t._v(" "),t._m(51),t._v(" "),t._m(52),a("p",[t._v("回流一定伴随着重绘，重绘却可以单独出现")]),t._v(" "),a("p",[t._v("所以一般会有一些优化方案，如：")]),t._v(" "),t._m(53),t._v(" "),t._m(54),t._v(" "),a("p",[t._v("再来看一个示例：")]),t._v(" "),t._m(55),t._m(56),t._v(" "),a("p",[t._v("上述中的渲染中止步于绘制，但实际上绘制这一步也没有这么简单，它可以结合复合层和简单层的概念来讲。")]),t._v(" "),a("p",[t._v("这里不展开，进简单介绍下：")]),t._v(" "),t._m(57),t._v(" "),a("p",[t._v("更多参考：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000012925872#articleHeader16",target:"_blank",rel:"noopener noreferrer"}},[t._v("普通图层和复合图层"),a("OutboundLink")],1)]),t._v(" "),t._m(58),t._v(" "),a("p",[t._v("Chrome的开发者工具中，Performance中可以看到详细的渲染过程：")]),t._v(" "),t._m(59),t._v(" "),t._m(60),t._v(" "),a("p",[t._v("上面介绍了html解析，渲染流程。但实际上，在解析html时，会遇到一些资源连接，此时就需要进行单独处理了")]),t._v(" "),a("p",[t._v("简单起见，这里将遇到的静态资源分为一下几大类（未列举所有）：")]),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),a("p",[t._v("当遇到上述的外链时，==会单独开启一个下载线程去下载资源（http1.1中是每一个资源的下载都要开启一个http请求，对应一个tcp/ip链接）==")]),t._v(" "),t._m(63),t._v(" "),a("p",[t._v("CSS资源的处理有几个特点：")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),a("p",[t._v("JS脚本资源的处理有几个特点：")]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),t._m(68),t._v(" "),a("p",[t._v("简单的说（不展开）：")]),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),a("p",[t._v("遇到图片等资源时==，直接就是异步下载，不会阻塞解析==，下载完毕后直接用图片替换原有src的地方")]),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("先了解：")]),t._v(" "),t._m(74),t._v(" "),t._m(75),t._v(" "),a("p",[t._v("关键字：")]),t._v(" "),t._m(76),t._m(77),t._v(" "),t._m(78),t._v(" "),a("p",[t._v("一个元素的box的定位和尺寸，会与某一矩形框有关，这个框就称之为包含块。")]),t._v(" "),a("p",[t._v("元素会为它的子孙元素创建包含块，但是，并不是说元素的包含块就是它的父元素，元素的包含块与它的祖先元素的样式等有关系")]),t._v(" "),a("p",[t._v("譬如：")]),t._v(" "),t._m(79),t._v(" "),t._m(80),t._v(" "),a("p",[t._v("块级元素和块框以及行内元素和行框的相关概念")]),t._v(" "),t._m(81),t._v(" "),t._m(82),t._v(" "),t._m(83),t._v(" "),t._m(84),t._m(85),t._v(" "),a("p",[t._v("换句话说:")]),t._v(" "),t._m(86),t._v(" "),t._m(87),t._v(" "),t._m(88),t._v(" "),t._m(89),t._v(" "),t._m(90),t._m(91),t._v(" "),t._m(92),t._v(" "),t._m(93),t._v(" "),t._m(94),t._v(" "),a("p",[t._v("总结：")]),t._v(" "),t._m(95),t._v(" "),t._m(96),t._v(" "),a("p",[t._v("FC（格式上下文）？")]),t._v(" "),a("p",[t._v("FC即格式上下文，它定义框内部的元素渲染规则，比较抽象，譬如")]),t._v(" "),t._m(97),a("p",[t._v("不同类型的框参与的FC类型不同，譬如块级框对应BFC，行内框对应IFC")]),t._v(" "),t._m(98),t._v(" "),t._m(99),t._v(" "),t._m(100),a("p",[t._v("总结几点BFC特点：")]),t._v(" "),t._m(101),t._v(" "),a("p",[t._v("如何触发BFC？")]),t._v(" "),t._m(102),t._v(" "),t._m(103),t._v(" "),a("p",[t._v("更多请自行网上搜索")]),t._v(" "),t._m(104),t._v(" "),a("p",[t._v("IFC即行内框产生的格式上下文")]),t._v(" "),t._m(105),t._v(" "),t._m(106),t._m(107),t._v(" "),t._m(108),t._v(" "),a("p",[t._v("行框的宽度由它的包含块和其中的浮动元素决定，高度的确定由行高度计算规则决定")]),t._v(" "),a("p",[t._v("行框的规则：")]),t._v(" "),t._m(109),t._m(110),t._v(" "),t._m(111),a("p",[t._v("总结：")]),t._v(" "),t._m(112),t._v(" "),a("p",[t._v("相比BFC规则来说，IFC可能更加抽象（因为没有那么条理清晰的规则和触发条件）")]),t._v(" "),a("p",[t._v("但总的来说，它就是行内元素自身如何显示以及在框内如何摆放的渲染规则，这样描述应该更容易理解")]),t._v(" "),t._m(113),t._v(" "),a("p",[t._v("当然还有有一些其它内容：")]),t._v(" "),t._m(114),t._v(" "),a("p",[t._v("这里不一一展开，更多请参考：")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://bbs.csdn.net/topics/340204423",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://bbs.csdn.net/topics/340204423"),a("OutboundLink")],1)]),t._v(" "),t._m(115),t._v(" "),a("p",[t._v("简单的对比：")]),t._v(" "),t._m(116),t._v(" "),t._m(117),t._v(" "),a("p",[t._v("读这部分的前提是已经知道了JS引擎是单线程，而且这里会用到上文中的几个概念：（如果不是很理解，可以回头温习）")]),t._v(" "),t._m(118),t._v(" "),a("p",[t._v("然后再理解一个概念：")]),t._v(" "),t._m(119),t._v(" "),a("p",[t._v("看图：")]),t._v(" "),t._m(120),t._v(" "),a("p",[t._v("看到这里，应该就可以理解了：为什么有时候setTimeout推入的事件不能准时执行？因为可能在它推入到事件列表时，主线程还不空闲，正在执行其它代码，\n所以自然有误差。")]),t._v(" "),t._m(121),t._v(" "),a("p",[t._v("这里就直接引用一张图片来协助理解：（参考自Philip Roberts的演讲《"),a("a",{attrs:{href:"http://vimeo.com/96425312",target:"_blank",rel:"noopener noreferrer"}},[t._v("Help, I'm stuck in an event-loop"),a("OutboundLink")],1),t._v("》）")]),t._v(" "),t._m(122),t._v(" "),a("p",[t._v("上图大致描述就是：")]),t._v(" "),t._m(123),t._v(" "),a("p",[t._v("栈中的代码调用某些api时，它们会在事件队列中添加各种事件（当满足触发条件后，如ajax请求完毕）")]),t._v(" "),t._m(124),t._v(" "),t._m(125),t._v(" "),a("p",[t._v("上述事件循环机制的核心是：JS引擎线程和事件触发线程")]),t._v(" "),t._m(126),t._v(" "),t._m(127),t._v(" "),a("p",[t._v("为什么要单独的定时器线程？因为JavaScript引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确，因此很有必要单独开一个线程用来计时。")]),t._v(" "),t._m(128),t._v(" "),a("p",[t._v("譬如:")]),t._v(" "),t._m(129),t._m(130),t._v(" "),t._m(131),a("p",[t._v("这段代码的效果是最快的时间内将回调函数推入事件队列中，等待主线程执行")]),t._v(" "),a("p",[t._v("注意：")]),t._v(" "),t._m(132),t._v(" "),a("p",[t._v("(不过也有一说是不同浏览器有不同的最小时间设定)")]),t._v(" "),t._m(133),t._v(" "),t._m(134),t._v(" "),a("p",[t._v("这段参考了参考来源中的第2篇文章（英文版的），（加了下自己的理解重新描述了下），\n强烈推荐有英文基础的同学直接观看原文，作者描述的很清晰，示例也很不错，如下：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("上文中将JS事件循环机制梳理了一遍，在ES5的情况是够用了，但是在ES6盛行的现在，仍然会遇到一些问题，譬如下面这题：")]),t._v(" "),t._m(135),a("p",[t._v("嗯哼，它的正确执行顺序是这样子的：")]),t._v(" "),t._m(136),t._m(137),t._v(" "),t._m(138),t._v(" "),a("p",[t._v("它们的定义？区别？简单点可以按如下理解：")]),t._v(" "),t._m(139),t._v(" "),t._m(140),t._m(141),t._v(" "),a("p",[t._v("分别很么样的场景会形成macrotask和microtask呢？")]),t._v(" "),t._m(142),t._v(" "),t._m(143),t._v(" "),a("p",[t._v("参考："),a("a",{attrs:{href:"https://segmentfault.com/q/1010000011914016",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://segmentfault.com/q/1010000011914016"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("再根据线程来理解下：")]),t._v(" "),t._m(144),t._v(" "),a("p",[t._v("（这点由自己理解+推测得出，因为它是在主线程下无缝执行的）")]),t._v(" "),a("p",[t._v("所以，总结下运行机制：")]),t._v(" "),t._m(145),t._v(" "),a("p",[t._v("如图：")]),t._v(" "),t._m(146),t._v(" "),t._m(147),t._v(" "),t._m(148),t._v(" "),a("p",[t._v("注意，有一些浏览器执行结果不一样（因为它们可能把microtask当成macrotask来执行了），\n但是为了简单，这里不描述一些不标准的浏览器下的场景（但记住，有些浏览器可能并不标准）")]),t._v(" "),a("p",[t._v("也可以参考文章："),a("a",{attrs:{href:"https://github.com/dwqs/blog/issues/61",target:"_blank",rel:"noopener noreferrer"}},[t._v("从一道题浅说 JavaScript 的事件循环"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"事件机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件机制","aria-hidden":"true"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://www.cnblogs.com/chenluomenggongzi/p/5758109.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("事件机制"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),t._m(149),t._v(" "),a("p",[t._v("事件触发有三个阶段")]),t._v(" "),t._m(150),t._v(" "),t._m(151),t._v(" "),a("p",[t._v("事件委托的原理：")]),t._v(" "),a("p",[t._v("事件委托是利用事件的冒泡原理来实现的，何为事件冒泡呢？就是事件从最深的节点开始，然后逐步向上传播事件，举个例子：页面上有这么一个节点树，div>ul>li>a;比如给最里面的a加一个click点击事件，那么这个事件就会一层一层的往外执行，执行顺序a>li>ul>div，有这样一个机制，那么我们给最外面的div加点击事件，那么里面的ul，li，a做点击事件的时候，都会冒泡到最外层的div上，所以都会触发，这就是事件委托，委托它们父级代为执行事件")]),t._v(" "),a("p",[t._v("如果一个节点中的子节点是动态生成的，那么子节点需要注册事件的话应该注册在父节点上")]),t._v(" "),t._m(152),a("p",[t._v("上面的例子是说li操作的是同样的效果，要是每个li被点击的效果都不一样，那么用事件委托还有用吗？")]),t._v(" "),t._m(153),t._m(154),a("p",[t._v("上面实现的效果我就不多说了，很简单，4个按钮，点击每一个做不同的操作，那么至少需要4次dom操作，如果用事件委托，能进行优化吗？")]),t._v(" "),t._m(155),a("p",[t._v("用事件委托就可以只用一次dom操作就能完成所有的效果，比上面的性能肯定是要好一些的")]),t._v(" "),a("p",[t._v("现在讲的都是document加载完成的现有dom节点下的操作，那么如果是新增的节点，新增的节点会有事件吗？也就是说，一个新员工来了，他能收到快递吗？")]),t._v(" "),a("p",[t._v("看一下正常的添加节点的方法：")]),t._v(" "),t._m(156),a("p",[t._v("现在是移入li，li变红，移出li，li变白，这么一个效果，然后点击按钮，可以向ul中添加一个li子节点")]),t._v(" "),t._m(157),a("p",[t._v("这是一般的做法，但是你会发现，新增的li是没有事件的，说明添加子节点的时候，事件没有一起添加进去，这不是我们想要的结果，那怎么做呢？一般的解决方案会是这样，将for循环用一个函数包起来，命名为mHover，如下：")]),t._v(" "),t._m(158),a("p",[t._v("虽然功能实现了，看着还挺好，但实际上无疑==是又增加了一个dom操作==，在优化性能方面是不可取的，那么有事件委托的方式，能做到优化吗？")]),t._v(" "),t._m(159),a("p",[t._v("看，上面是用事件委托的方式，新添加的子元素是带有事件效果的，我们可以发现，==当用事件委托的时候，根本就不需要去遍历元素的子节点，只需要给父级元素添加事件就好了，其他的都是在js里面的执行，这样可以大大的减少dom操作，这才是事件委托的精髓所在。==")]),t._v(" "),a("p",[t._v("事件代理的方式相对于直接给目标注册事件来说，有以下优点")]),t._v(" "),t._m(160),t._v(" "),t._m(161),t._v(" "),a("p",[t._v("当然，事件委托也是有一定局限性的；")]),t._v(" "),a("p",[t._v("比如 ==focus、blur 之类的事件本身没有事件冒泡机制==，所以无法委托；")]),t._v(" "),a("p",[t._v("mousemove、mouseout 这样的事件，虽然有事件冒泡，但是只能不断通过位置去计算定位，对性能消耗高，因此也是不适合于事件委托的；")]),t._v(" "),t._m(162),t._v(" "),a("p",[t._v("输入URL后，==会进行解析==（URL的本质就是统一资源定位符）")]),t._v(" "),a("p",[t._v("URL一般包括几大部分：")]),t._v(" "),t._m(163),t._v(" "),t._m(164),t._v(" "),a("p",[t._v("每次网络请求时都需要开辟==单独的线程==进行，譬如如果URL解析到http协议，就会新建一个网络线程去处理资源下载")]),t._v(" "),a("p",[t._v("因此浏览器会根据解析出得协议，开辟一个网络线程，前往请求资源（这里，暂时理解为是浏览器内核开辟的，如有错误，后续修复）")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"从输入url到页面加载说起"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从输入url到页面加载说起","aria-hidden":"true"}},[this._v("#")]),this._v(" 从输入URL到页面加载说起")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_1-ajax"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ajax","aria-hidden":"true"}},[this._v("#")]),this._v(" 1. ajax")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://ofluknnfq.bkt.clouddn.com/blog/180728/d113L755EF.png?imageslim",alt:"mark"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_2-区分进程与线程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-区分进程与线程","aria-hidden":"true"}},[this._v("#")]),this._v(" 2. 区分进程与线程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("- 进程是一个工厂，工厂有它的独立资源\n\n- 工厂之间相互独立\n\n- 线程是工厂中的工人，多个工人协作完成任务\n\n- 工厂内有一个或多个工人\n\n- 工人之间共享空间\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("- 工厂的资源 -> 系统分配的内存（独立的一块内存）\n\n- 工厂之间的相互独立 -> 进程之间相互独立\n\n- 多个工人协作完成任务 -> 多个线程在进程中协作完成任务\n\n- 工厂内有一个或多个工人 -> 一个进程由一个或多个线程组成\n\n- 工人之间共享空间 -> 同一进程下的各个线程之间共享程序的内存空间（包括代码段、数据集、堆等）\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_3-浏览器都包含哪些进程？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-浏览器都包含哪些进程？","aria-hidden":"true"}},[this._v("#")]),this._v(" 3. 浏览器都包含哪些进程？")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("Browser进程：浏览器的主进程（负责协调、主控），只有一个。作用有\n"),a("ul",[a("li",[t._v("负责浏览器界面显示，与用户交互。如前进，后退等")]),t._v(" "),a("li",[t._v("负责各个页面的管理，创建和销毁其他进程")]),t._v(" "),a("li",[t._v("将Renderer进程得到的内存中的Bitmap，绘制到用户界面上")]),t._v(" "),a("li",[t._v("网络资源的管理，下载等")])])]),t._v(" "),a("li",[t._v("第三方插件进程：每种类型的插件对应一个进程，仅当使用该插件时才创建")]),t._v(" "),a("li",[t._v("GPU进程：最多一个，用于3D绘制等")]),t._v(" "),a("li",[t._v("==浏览器渲染进程（浏览器内核）==（Renderer进程，内部是多线程的）：默认每个Tab页面一个进程，互不影响。主要作用为\n"),a("ul",[a("li",[t._v("页面渲染，脚本执行，事件处理等")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("强化记忆：=="),s("strong",[this._v("在浏览器中打开一个网页相当于新起了一个进程（进程内有自己的多线程）")]),this._v("==")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_4-重点是浏览器内核（渲染进程）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-重点是浏览器内核（渲染进程）","aria-hidden":"true"}},[this._v("#")]),this._v(" 4. 重点是浏览器内核（渲染进程）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("请牢记，浏览器的渲染进程是多线程的")]),this._v("（这点如果不理解，"),s("strong",[this._v("请回头看进程和线程的区分")]),this._v("）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("GUI渲染线程\n"),a("ul",[a("li",[t._v("负责渲染浏览器界面，解析HTML，CSS，构建DOM树和RenderObject树，布局和绘制等。")]),t._v(" "),a("li",[t._v("当界面需要重绘（Repaint）或由于某种操作引发回流(reflow)时，该线程就会执行")]),t._v(" "),a("li",[t._v("注意，=="),a("strong",[t._v("GUI渲染线程与JS引擎线程是互斥的")]),t._v("==，当JS引擎执行时GUI线程会被挂起（相当于被冻结了），GUI更新会被保存在一个队列中=="),a("strong",[t._v("等到JS引擎空闲时")]),t._v("==立即被执行。")])])]),t._v(" "),a("li",[t._v("JS引擎线程\n"),a("ul",[a("li",[t._v("也称为JS内核，负责处理Javascript脚本程序。（例如V8引擎）")]),t._v(" "),a("li",[t._v("JS引擎线程负责解析Javascript脚本，运行代码。")]),t._v(" "),a("li",[t._v("JS引擎一直等待着任务队列中任务的到来，然后加以处理，一个Tab页（renderer进程）中无论什么时候都==只有一个JS线程==在运行JS程序")]),t._v(" "),a("li",[t._v("同样注意，"),a("strong",[t._v("GUI渲染线程与JS引擎线程是互斥的")]),t._v("，所以如果JS执行的时间过长，==这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞==。")])])]),t._v(" "),a("li",[t._v("事件触发线程\n"),a("ul",[a("li",[t._v("归属于浏览器而不是JS引擎，用来控制事件循环（可以理解，JS引擎自己都忙不过来，需要浏览器另开线程协助）")]),t._v(" "),a("li",[t._v("当JS引擎执行代码块如setTimeOut时（也可来自浏览器内核的其他线程,如鼠标点击、AJAX异步请求等），会将对应任务添加到事件线程中")]),t._v(" "),a("li",[t._v("当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的队尾，等待JS引擎的处理")]),t._v(" "),a("li",[t._v("注意，由于==JS的单线程关系==，所以这些==待处理队列中的事件都得排队等待JS引擎处理==（当JS引擎空闲时才会去执行）")])])]),t._v(" "),a("li",[t._v("定时触发器线程\n"),a("ul",[a("li",[t._v("传说中的"),a("code",[t._v("setInterval")]),t._v("与"),a("code",[t._v("setTimeout")]),t._v("所在线程")]),t._v(" "),a("li",[t._v("浏览器定时计数器并不是由JavaScript引擎计数的,（因为JavaScript引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确）")]),t._v(" "),a("li",[t._v("因此通过单独线程来计时并触发定时（==计时完毕后，添加到事件队列==中，等待JS引擎空闲后执行）")]),t._v(" "),a("li",[t._v("注意，W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔算为4ms。")])])]),t._v(" "),a("li",[t._v("异步http请求线程\n"),a("ul",[a("li",[t._v("在XMLHttpRequest在连接后是通过浏览器新开一个线程请求")]),t._v(" "),a("li",[t._v("将检测到状态变更时，如果设置有回调函数，异步线程就"),a("strong",[t._v("产生状态变更事件")]),t._v("，将这个回调再放入事件队列中。再由JavaScript引擎执行。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("看到这里，如果觉得累了，可以先休息下，这些概念需要被消化，毕竟后续将提到的事件循环机制就是基于"),s("code",[this._v("事件触发线程")]),this._v("的，所以如果仅仅是看某个碎片化知识，\n可能会有一种似懂非懂的感觉。要完成的梳理一遍才能快速沉淀，不易遗忘。放张图巩固下吧：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000012925880?w=287&h=577",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_5-browser进程和浏览器内核（renderer进程）的通信过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-browser进程和浏览器内核（renderer进程）的通信过程","aria-hidden":"true"}},[this._v("#")]),this._v(" 5. Browser进程和浏览器内核（Renderer进程）的通信过程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果自己打开任务管理器，然后打开一个浏览器，就可以看到：=="),s("strong",[this._v("任务管理器中出现了两个进程（一个是主控进程，一个则是打开Tab页的渲染进程）")]),this._v("==，\n然后在这前提下，看下整个的过程：(简化了很多)")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("Browser进程收到用户请求，首先需要获取页面内容（譬如通过网络下载资源），随后将该任务通过RendererHost接口传递给Render进程")]),t._v(" "),a("li",[t._v("Renderer进程的Renderer接口收到消息，简单解释后，交给渲染线程，然后开始渲染\n"),a("ul",[a("li",[t._v("渲染线程接收请求，加载网页并渲染网页，这其中可能需要Browser进程获取资源和需要GPU进程来帮助渲染")]),t._v(" "),a("li",[t._v("当然可能会有JS线程操作DOM（这样可能会造成回流并重绘）")]),t._v(" "),a("li",[t._v("==最后Render进程将结果传递给Browser进程==")])])]),t._v(" "),a("li",[t._v("Browser进程接收到结果并将结果绘制出来")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000012925881?w=470&h=325",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_6-梳理浏览器内核中线程之间的关系"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-梳理浏览器内核中线程之间的关系","aria-hidden":"true"}},[this._v("#")]),this._v(" 6. 梳理浏览器内核中线程之间的关系")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"webworker，js的多线程？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webworker，js的多线程？","aria-hidden":"true"}},[this._v("#")]),this._v(" WebWorker，JS的多线程？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("所以，后来HTML5中支持了"),s("code",[this._v("Web Worker")]),this._v("。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Web Worker为Web内容在后台线程中运行脚本提供了一种简单的方法。线程可以执行任务而不干扰用户界面\n\n一个worker是使用一个构造函数创建的一个对象(e.g. Worker()) 运行一个命名的JavaScript文件 \n\n这个文件包含将在工作线程中运行的代码; workers 运行在另一个全局上下文中,不同于当前的window\n\n因此，使用 window快捷方式获取当前全局的范围 (而不是self) 在一个 Worker 内将返回错误\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("创建Worker时，JS引擎向浏览器申请开一个子线程（==子线程是浏览器开的，完全受主线程控制，而且不能操作DOM==）")]),this._v(" "),s("li",[this._v("JS引擎线程与worker线程间通过特定的方式通信（postMessage API，需要通过序列化对象来与线程交互特定的数据）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("而且注意下，"),s("strong",[this._v("JS引擎是单线程的")]),this._v("，这一点的本质仍然未改变，Worker可以理解是浏览器给JS引擎开的外挂，专门用来解决那些大量计算问题。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"webworker与sharedworker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webworker与sharedworker","aria-hidden":"true"}},[this._v("#")]),this._v(" WebWorker与SharedWorker")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("既然都到了这里，就再提一下"),s("code",[this._v("SharedWorker")]),this._v("（避免后续将这两个概念搞混）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("WebWorker只属于某个页面，不会和其他页面的Render进程（浏览器内核进程）共享\n"),s("ul",[s("li",[this._v("所以Chrome在Render进程中（每一个Tab页就是一个render进程）创建一个新的线程来运行Worker中的JavaScript程序。")])])]),this._v(" "),s("li",[this._v("SharedWorker是浏览器所有页面共享的，不能采用与Worker同样的方式实现，因为它不隶属于某个Render进程，可以为多个Render进程共享使用\n"),s("ul",[s("li",[this._v("所以Chrome浏览器为SharedWorker单独创建一个进程来运行JavaScript程序，在浏览器中每个相同的JavaScript只存在一个SharedWorker进程，不管它被创建多少次。")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_7-解析页面流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-解析页面流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 7. 解析页面流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("这部分很多都参考了网上资源，特别是图片，参考了来源中的文章")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"流程简述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#流程简述","aria-hidden":"true"}},[this._v("#")]),this._v(" 流程简述")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1. 解析HTML，构建DOM树\n\n2. 解析CSS，生成CSS规则树\n\n3. 合并DOM树和CSS规则，生成render树\n\n4. 布局render树（Layout/reflow），负责各元素尺寸、位置的计算\n\n5. 绘制render树（paint），绘制页面像素信息\n\n6. 浏览器会将各层的信息发送给GPU，GPU会将各层合成（composite），显示在屏幕上\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662138?w=900&h=352",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"html解析，构建dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#html解析，构建dom","aria-hidden":"true"}},[this._v("#")]),this._v(" HTML解析，构建DOM")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("简单的理解，这一步的流程是这样的："),s("strong",[this._v("浏览器解析HTML，构建DOM树。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Bytes → characters → tokens → nodes → DOM\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('<html>\n  <head>\n    <meta name="viewport" content="width=device-width,initial-scale=1">\n    <link href="style.css" rel="stylesheet">\n    <title>Critical Path</title>\n  </head>\n  <body>\n    <p>Hello <span>web performance</span> students!</p>\n    <div><img src="awesome-photo.jpg"></div>\n  </body>\n</html>\n')])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662139?w=900&h=498",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1. Conversion转换：浏览器将获得的HTML内容（Bytes）基于他的编码转换为单个字符\n\n2. Tokenizing分词：浏览器按照HTML规范标准将这些字符转换为不同的标记token。每个token都有自己独特的含义以及规则集\n\n3. Lexing词法分析：分词的结果是得到一堆的token，此时把他们转换为对象，这些对象分别定义他们的属性和规则\n\n4. DOM构建：因为HTML标记定义的就是不同标签之间的关系，这个关系就像是一个树形结构一样\n例如：body对象的父节点就是HTML对象，然后段略p对象的父节点就是body对象\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662140?w=665&h=284",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"生成css规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成css规则","aria-hidden":"true"}},[this._v("#")]),this._v(" 生成CSS规则")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("Bytes → characters → tokens → nodes → CSSOM\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("譬如"),s("code",[this._v("style.css")]),this._v("内容如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("body { font-size: 16px }\np { font-weight: bold }\nspan { color: red }\np span { display: none }\nimg { float: right }\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662141?w=582&h=299",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"构建渲染树"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建渲染树","aria-hidden":"true"}},[this._v("#")]),this._v(" 构建渲染树")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("因为有一些不可见的DOM元素不会插入到渲染树中，如head这种不可见的标签或者"),s("code",[this._v("display: none")]),this._v("等")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662142?w=900&h=420",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渲染","aria-hidden":"true"}},[this._v("#")]),this._v(" 渲染")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662143?w=900&h=248",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1. 计算CSS样式\n\n2. 构建渲染树\n\n3. 布局，主要定位坐标和大小，是否换行，各种position overflow z-index属性\n\n4. 绘制，将图像绘制出来\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Layout，也称为Reflow，即回流。一般意味着元素的内容、结构、位置或尺寸发生了变化，需要重新计算样式和渲染树")]),this._v(" "),s("li",[this._v("Repaint，即重绘。意味着元素发生的改变只是影响了元素的一些外观之类的时候（例如，背景色，边框颜色，文字颜色等），此时只需要应用新样式绘制这个元素就可以了")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("什么会引起回流？")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("1.页面渲染初始化\n\n2.DOM结构改变，比如删除了某个节点\n\n3.render树变化，比如减少了padding\n\n4.窗口resize\n\n5.最复杂的一种：获取某些属性，引发回流，\n很多浏览器会对回流做优化，会等到数量足够时做一次批处理回流，\n但是除了render树的直接变化，当获取一些属性时，浏览器为了获得正确的值也会触发回流，这样使得浏览器优化无效，包括\n    （1）offset(Top/Left/Width/Height)\n     (2) scroll(Top/Left/Width/Height)\n     (3) cilent(Top/Left/Width/Height)\n     (4) width,height\n     (5) 调用了getComputedStyle()或者IE的currentStyle\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("减少逐项更改样式，最好一次性更改style，或者将样式定义为class并一次性更新")]),this._v(" "),s("li",[this._v("避免循环操作dom，创建一个documentFragment或div，在它上面应用所有DOM操作，最后再把它添加到window.document")]),this._v(" "),s("li",[this._v("避免多次读取offset等属性。无法避免则将它们缓存到变量")]),this._v(" "),s("li",[this._v("将复杂的元素绝对定位或固定定位，使得它脱离文档流，否则回流代价会很高")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意：改变字体大小会引发回流")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" s "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ns"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("padding "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2px"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 回流+重绘")]),t._v("\ns"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("border "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"1px solid red"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 再一次 回流+重绘")]),t._v("\ns"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("color "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"blue"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 再一次重绘")]),t._v("\ns"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("backgroundColor "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"#ccc"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 再一次 重绘")]),t._v("\ns"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"14px"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 再一次 回流+重绘")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 添加node，再一次 回流+重绘")]),t._v("\ndocument"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createTextNode")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'abc!'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"简单层与复合层"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简单层与复合层","aria-hidden":"true"}},[this._v("#")]),this._v(" 简单层与复合层")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("可以认为默认只有一个复合图层，所有的DOM节点都是在这个复合图层下的")]),this._v(" "),s("li",[this._v("如果开启了硬件加速功能，可以将某个节点变成复合图层")]),this._v(" "),s("li",[this._v("复合图层之间的绘制互不干扰，由GPU直接控制")]),this._v(" "),s("li",[this._v("而简单图层中，就算是absolute等布局，变化时不影响整体的回流，但是由于在同一个图层中，仍然是会影响绘制的，因此做动画时性能仍然很低。而复合层是独立的，所以一般做动画推荐使用硬件加速")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"chrome中的调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chrome中的调试","aria-hidden":"true"}},[this._v("#")]),this._v(" Chrome中的调试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662144?w=900&h=432",alt:"img"}}),this._v(" "),s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000013662145?w=900&h=437",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"资源外链的下载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#资源外链的下载","aria-hidden":"true"}},[this._v("#")]),this._v(" 资源外链的下载")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("CSS样式资源")]),this._v(" "),s("li",[this._v("JS脚本资源")]),this._v(" "),s("li",[this._v("img图片类资源")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("遇到外链时的处理")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("遇到CSS样式资源")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("==CSS下载时异步，不会阻塞浏览器构建DOM树==")])]),t._v(" "),a("li",[a("p",[t._v("但是会阻塞渲染，也就是在构建render时，会等到css下载解析完毕后才进行（这点与浏览器优化有关，防止css规则不断改变，避免了重复的构建）")])]),t._v(" "),a("li",[a("p",[t._v("有例外，"),a("code",[t._v("media query")]),t._v("声明的CSS是不会阻塞渲染的")]),t._v(" "),a("p",[t._v("这可能也是浏览器的一种优化机制。")]),t._v(" "),a("p",[t._v("因为你加载css的时候，可能会修改下面DOM节点的样式，\n如果css加载不阻塞render树渲染的话，那么当css加载完之后，\nrender树可能又得重新重绘或者回流了，这就造成了一些没有必要的损耗。\n所以干脆就先把DOM树的结构先解析完，把可以做的工作做完，然后等你css加载完之后，\n在根据最终的样式来渲染render树，这种做法性能方面确实会比较好一点。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("遇到JS脚本资源")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("阻塞浏览器的解析，也就是说发现一个外链脚本时，==需等待脚本下载完成并执行后才会继续解析HTML==")]),this._v(" "),s("li",[this._v("浏览器的优化，一般现代浏览器有优化，在脚本阻塞时，也会继续下载其它资源（当然有并发上限），但是虽然脚本可以并行下载，解析过程仍然是阻塞的，也就是说必须这个脚本执行完毕后才会接下来的解析，并行下载只是一种优化而已")]),this._v(" "),s("li",[this._v("defer与async，普通的脚本是会阻塞浏览器解析的，但是可以加上defer或async属性，这样脚本就变成异步了，可以等到解析完毕后再执行")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("注意，defer和async是有区别的： "),s("strong",[this._v("defer是延迟执行，而async是异步执行。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://ofluknnfq.bkt.clouddn.com/blog/180729/HbJKGF2L9j.png?imageslim",alt:"mark"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("async")]),t._v("是异步执行，==异步下载完毕后就会执行，不确保执行顺序==，一定在"),a("code",[t._v("onload")]),t._v("前，但不确定在"),a("code",[t._v("DOMContentLoaded")]),t._v("事件的前或后")]),t._v(" "),a("li",[a("code",[t._v("defer")]),t._v("是延迟执行，在浏览器看起来的效果像是将脚本放在了"),a("code",[t._v("body")]),t._v("后面一样（虽然按规范应该是在"),a("code",[t._v("DOMContentLoaded")]),t._v("事件前，但实际上不同浏览器的优化效果不一样，也有可能在它后面）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("遇到img图片类资源")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"css的可视化格式模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#css的可视化格式模型","aria-hidden":"true"}},[this._v("#")]),this._v(" CSS的可视化格式模型")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("这一部分内容很多参考《精通CSS-高级Web标准解决方案》以及参考来源")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("前面提到了整体的渲染概念，但实际上文档树中的元素是按什么渲染规则渲染的，是可以进一步展开的，此部分内容即： "),s("strong",[this._v("CSS的可视化格式模型")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("==CSS中规定每一个元素都有自己的盒子模型（相当于规定了这个元素如何显示）==")]),this._v(" "),s("li",[this._v("==然后可视化格式模型则是把这些盒子按照规则摆放到页面上，也就是如何布局==")]),this._v(" "),s("li",[this._v("换句话说，盒子模型规定了怎么在页面里摆放盒子，盒子的相互作用等等")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("说到底： "),s("strong",[this._v("CSS的可视化格式模型就是规定了浏览器在页面中如何处理文档树")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("包含块（Containing Block）\n控制框（Controlling Box）\nBFC（Block Formatting Context）\nIFC（Inline Formatting Context）\n定位体系\n浮动\n...\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("另外，CSS有三种定位机制："),s("code",[this._v("普通流")]),this._v("，"),s("code",[this._v("浮动")]),this._v("，"),s("code",[this._v("绝对定位")]),this._v("，如无特别提及，下文中都是针对普通流中的")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"包含块（containing-block）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#包含块（containing-block）","aria-hidden":"true"}},[this._v("#")]),this._v(" 包含块（Containing Block）")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("根元素是最顶端的元素，它没有父节点，它的包含块就是初始包含块")]),t._v(" "),a("li",[t._v("static和relative的包含块由它最近的块级、单元格或者行内块祖先元素的内容框（content）创建")]),t._v(" "),a("li",[t._v("fixed的包含块是当前可视窗口")]),t._v(" "),a("li",[t._v("absolute的包含块由它最近的position 属性为"),a("code",[t._v("absolute")]),t._v("、"),a("code",[t._v("relative")]),t._v("或者"),a("code",[t._v("fixed")]),t._v("的祖先元素创建\n"),a("ul",[a("li",[t._v("如果其祖先元素是行内元素，则包含块取决于其祖先元素的"),a("code",[t._v("direction")]),t._v("特性")]),t._v(" "),a("li",[t._v("如果祖先元素不是行内元素，那么包含块的区域应该是祖先元素的内边距边界")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"控制框（controlling-box）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#控制框（controlling-box）","aria-hidden":"true"}},[this._v("#")]),this._v(" 控制框（Controlling Box）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("块框:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("块级元素会生成一个块框（"),s("code",[this._v("Block Box")]),this._v("），块框会占据一整行，用来包含子box和生成的内容")]),this._v(" "),s("li",[this._v("块框同时也是一个块包含框（"),s("code",[this._v("Containing Box")]),this._v("），里面要么只包含块框，要么只包含行内框（不能混杂），如果块框内部有块级元素也有行内元素，那么行内元素会被匿名块框包围")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("关于"),s("strong",[this._v("匿名块框")]),this._v("的生成，示例：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("<DIV>\nSome text\n<P>More text\n</DIV>\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("div")]),t._v("生成了一个块框，包含了另一个块框"),a("code",[t._v("p")]),t._v("以及文本内容"),a("code",[t._v("Some text")]),t._v("，此时"),a("code",[t._v("Some text")]),t._v("文本会被强制加到一个匿名的块框里面，被"),a("code",[t._v("div")]),t._v("生成的块框包含（其实这个就是"),a("code",[t._v("IFC")]),t._v("中提到的行框，包含这些行内框的这一行匿名块形成的框，行框和行内框不同）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("如果一个块框在其中包含另外一个块框，那么我们强迫它只能包含块框，因此其它文本内容生成出来的都是匿名块框（而不是匿名行内框）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("行内框：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("一个行内元素生成一个行内框")]),this._v(" "),s("li",[this._v("行内元素能排在一行，允许左右有其它元素")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("关于"),s("strong",[this._v("匿名行内框")]),this._v("的生成，示例：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("<P>Some <EM>emphasized</EM> text</P>\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[a("code",[t._v("P")]),t._v("元素生成一个块框，其中有几个行内框（如"),a("code",[t._v("EM")]),t._v("），以及文本"),a("code",[t._v("Some")]),t._v("，"),a("code",[t._v("text")]),t._v("，此时会专门为这些文本生成匿名行内框")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("display属性的影响")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("display")]),this._v("的几个属性也可以影响不同框的生成：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("block")]),t._v("，元素生成一个块框")]),t._v(" "),a("li",[a("code",[t._v("inline")]),t._v("，元素产生一个或多个的行内框")]),t._v(" "),a("li",[a("code",[t._v("inline-block")]),t._v("，元素产生一个行内级块框，行内块框的内部会被当作块块来格式化，而此元素本身会被当作行内级框来格式化（这也是为什么会产生"),a("code",[t._v("BFC")]),t._v("）")]),t._v(" "),a("li",[a("code",[t._v("none")]),t._v("，不生成框，不再格式化结构中，当然了，另一个"),a("code",[t._v("visibility: hidden")]),t._v("则会产生一个不可见的框")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("如果一个框里，有一个块级元素，那么这个框里的内容都会被当作块框来进行格式化，因为只要出现了块级元素，就会将里面的内容分块几块，每一块独占一行（出现行内可以用匿名块框解决）")]),this._v(" "),s("li",[this._v("如果一个框里，没有任何块级元素，那么这个框里的内容会被当成行内框来格式化，因为里面的内容是按照顺序成行的排列")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bfc（block-formatting-context）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bfc（block-formatting-context）","aria-hidden":"true"}},[this._v("#")]),this._v(" BFC（Block Formatting Context）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("FC像是一个大箱子，里面装有很多元素\n\n箱子可以隔开里面的元素和外面的元素（所以外部并不会影响FC内部的渲染）\n\n内部的规则可以是：如何定位，宽高计算，margin折叠等等\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("注意，并不是说所有的框都会产生FC，而是符合特定条件才会产生，只有产生了对应的FC后才会应用对应渲染规则")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("BFC规则：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("在块格式化上下文中\n\n每一个元素左外边与包含块的左边相接触（对于从右到左的格式化，右外边接触右边）\n\n即使存在浮动也是如此（所以浮动元素正常会直接贴近它的包含块的左边，与普通元素重合）\n\n除非这个元素也创建了一个新的BFC\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("内部"),a("code",[t._v("box")]),t._v("在垂直方向，一个接一个的放置")]),t._v(" "),a("li",[t._v("box的垂直方向由"),a("code",[t._v("margin")]),t._v("决定，属于同一个BFC的两个box间的margin会重叠")]),t._v(" "),a("li",[t._v("BFC区域不会与"),a("code",[t._v("float box")]),t._v("重叠（可用于排版)")]),t._v(" "),a("li",[t._v("BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此")]),t._v(" "),a("li",[t._v("计算BFC的高度时，浮动元素也参与计算（不会浮动坍塌）")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("根元素")]),t._v(" "),a("li",[a("code",[t._v("float")]),t._v("属性不为"),a("code",[t._v("none")])]),t._v(" "),a("li",[a("code",[t._v("position")]),t._v("为"),a("code",[t._v("absolute")]),t._v("或"),a("code",[t._v("fixed")])]),t._v(" "),a("li",[a("code",[t._v("display")]),t._v("为"),a("code",[t._v("inline-block")]),t._v(", "),a("code",[t._v("flex")]),t._v(", "),a("code",[t._v("inline-flex")]),t._v("，"),a("code",[t._v("table")]),t._v("，"),a("code",[t._v("table-cell")]),t._v("，"),a("code",[t._v("table-caption")])]),t._v(" "),a("li",[a("code",[t._v("overflow")]),t._v("不为"),a("code",[t._v("visible")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这里提下，"),s("code",[this._v("display: table")]),this._v("，它本身不产生BFC，但是它会产生匿名框（包含"),s("code",[this._v("display: table-cell")]),this._v("的框），而这个匿名框产生BFC")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"ifc（inline-formatting-context）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ifc（inline-formatting-context）","aria-hidden":"true"}},[this._v("#")]),this._v(" IFC（Inline Formatting Context）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("IFC规则")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("在行内格式化上下文中\n\n框一个接一个地水平排列，起点是包含块的顶部。\n\n水平方向上的 margin，border 和 padding 在框之间得到保留\n\n框在垂直方向上可以以不同的方式对齐：它们的顶部或底部对齐，或根据其中文字的基线对齐\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("行框")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("包含那些框的长方形区域，会形成一行，叫做行框")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("如果几个行内框在水平方向无法放入一个行框内，它们可以分配在两个或多个垂直堆叠的行框中（即行内框的分割）\n\n行框在堆叠时没有垂直方向上的分割且永不重叠\n\n行框的高度总是足够容纳所包含的所有框。不过，它可能高于它包含的最高的框（例如，框对齐会引起基线对齐）\n\n行框的左边接触到其包含块的左边，右边接触到其包含块的右边。\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("结合补充下IFC规则：")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("浮动元素可能会处于包含块边缘和行框边缘之间\n\n尽管在相同的行内格式化上下文中的行框通常拥有相同的宽度（包含块的宽度），它们可能会因浮动元素缩短了可用宽度，而在宽度上发生变化\n\n同一行内格式化上下文中的行框通常高度不一样（如，一行包含了一个高的图形，而其它行只包含文本）\n\n当一行中行内框宽度的总和小于包含它们的行框的宽，它们在水平方向上的对齐，取决于 `text-align` 特性\n\n空的行内框应该被忽略\n\n即不包含文本，保留空白符，margin/padding/border非0的行内元素，\n以及其他常规流中的内容(比如，图片，inline blocks 和 inline tables)，\n并且不是以换行结束的行框，\n必须被当作零高度行框对待\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("行内元素总是会应用IFC渲染规则")]),t._v(" "),a("li",[t._v("行内元素会应用IFC规则渲染，譬如"),a("code",[t._v("text-align")]),t._v("可以用来居中等")]),t._v(" "),a("li",[t._v("块框内部，对于文本这类的匿名元素，会产生匿名行框包围，而行框内部就应用IFC渲染规则")]),t._v(" "),a("li",[t._v("行内框内部，对于那些行内元素，一样应用IFC渲染规则")]),t._v(" "),a("li",[t._v("另外，"),a("code",[t._v("inline-block")]),t._v("，会在元素外层产生IFC（所以这个元素是可以通过"),a("code",[t._v("text-align")]),t._v("水平居中的），当然，它内部则按照BFC规则渲染")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"其它"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#其它","aria-hidden":"true"}},[this._v("#")]),this._v(" 其它")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("譬如常规流，浮动，绝对定位等区别")]),t._v(" "),a("li",[t._v("譬如浮动元素不包含在常规流中")]),t._v(" "),a("li",[t._v("譬如相对定位，绝对定位，"),a("code",[t._v("Fixed")]),t._v("定位等区别")]),t._v(" "),a("li",[t._v("譬如"),a("code",[t._v("z-index")]),t._v("的分层显示机制等")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"loaded和domcontentloaded"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loaded和domcontentloaded","aria-hidden":"true"}},[this._v("#")]),this._v(" loaded和domcontentloaded")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("DOMContentLoaded 事件触发时，仅当DOM加载完成，不包括样式表，图片(譬如如果有async加载的脚本就不一定完成)")]),this._v(" "),s("li",[this._v("load 事件触发时，页面上所有的DOM，样式表，脚本，图片都已经加载完成了")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_8-从event-loop谈js的运行机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-从event-loop谈js的运行机制","aria-hidden":"true"}},[this._v("#")]),this._v(" 8. 从Event Loop谈JS的运行机制")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("JS引擎线程")]),this._v(" "),s("li",[this._v("事件触发线程")]),this._v(" "),s("li",[this._v("定时触发器线程")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("JS分为同步任务和异步任务")]),t._v(" "),a("li",[t._v("==同步任务都在主线程上执行，形成一个"),a("code",[t._v("执行栈")]),t._v("==")]),t._v(" "),a("li",[t._v("主线程之外，"),a("strong",[t._v("事件触发线程")]),t._v("管理着一个"),a("code",[t._v("任务队列")]),t._v("，==只要异步任务有了运行结果==，就在"),a("code",[t._v("任务队列")]),t._v("之中放置一个事件。")]),t._v(" "),a("li",[t._v("一旦"),a("code",[t._v("执行栈")]),t._v("中的所有同步任务执行完毕（此时JS引擎空闲），系统就会读取"),a("code",[t._v("任务队列")]),t._v("，将可运行的异步任务添加到可执行栈中，开始执行。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000012925883?w=610&h=637",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"事件循环机制进一步补充"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件循环机制进一步补充","aria-hidden":"true"}},[this._v("#")]),this._v(" 事件循环机制进一步补充")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000012925884?w=636&h=518",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("主线程运行时会产生执行栈，")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("而栈中的代码执行完毕，就会读取事件队列中的事件，去执行那些回调")]),this._v(" "),s("li",[this._v("如此循环")]),this._v(" "),s("li",[this._v("注意，==总是要等待栈中的代码执行完毕后才会去读取事件队列中的事件==")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"单独说说定时器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单独说说定时器","aria-hidden":"true"}},[this._v("#")]),this._v(" 单独说说定时器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("但事件上，里面还有一些隐藏细节，譬如调用"),s("code",[this._v("setTimeout")]),this._v("后，是如何等待特定时间后才添加到事件队列中的？")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("是JS引擎检测的么？当然不是了。它是由"),s("strong",[this._v("定时器线程")]),this._v("控制（因为JS引擎自己都忙不过来，根本无暇分身）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("什么时候会用到定时器线程？"),s("strong",[this._v("当使用setTimeout或setInterval时")]),this._v("，它需要定时器线程计时，计时完成后就会将特定的事件推入事件队列中。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'hello!'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1000")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这段代码的作用是当"),s("code",[this._v("1000")]),this._v("毫秒计时完毕后（由定时器线程计时），将回调函数推入事件队列中，等待主线程执行")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'hello!'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'begin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("执行结果是：先"),s("code",[this._v("begin")]),this._v("后"),s("code",[this._v("hello!")])]),this._v(" "),s("li",[this._v("虽然代码的本意是0毫秒后就推入事件队列，但是W3C在HTML标准中规定，规定要求setTimeout中低于4ms的时间间隔算为4ms。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("就算不等待4ms，就算假设0毫秒就推入事件队列，也会先执行"),s("code",[this._v("begin")]),this._v("（因为只有可执行栈内空了后才会主动读取事件队列）")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"事件循环进阶：macrotask与microtask"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件循环进阶：macrotask与microtask","aria-hidden":"true"}},[this._v("#")]),this._v(" 事件循环进阶：macrotask与microtask")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'script start'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("setTimeout")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'setTimeout'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nPromise"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'promise1'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("then")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'promise2'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'script end'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("script start\nscript end\npromise1\npromise2\nsetTimeout\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为什么呢？因为Promise里有了一个一个新的概念："),s("code",[this._v("microtask")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("或者，进一步，JS中分为两种任务类型："),s("strong",[this._v("macrotask和microtask")]),this._v("，在ECMAScript中，microtask称为"),s("code",[this._v("jobs")]),this._v("，macrotask可称为"),s("code",[this._v("task")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("macrotask（又称之为宏任务），可以理解是每次执行栈执行的代码就是一个宏任务（包括每次从事件队列中获取一个事件回调并放到执行栈中执行）\n"),s("ul",[s("li",[this._v("每一个task会从头到尾将这个任务执行完毕，不会执行其它")]),this._v(" "),s("li",[this._v("浏览器为了能够使得JS内部task与DOM任务能够有序的执行，==会在一个task执行结束后，在下一个 task 执行开始前，对页面进行重新渲染==")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("（`task->渲染->task->...`）\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("microtask（又称为微任务），==可以理解是在当前 task 执行结束后立即执行的任务==\n"),s("ul",[s("li",[this._v("也就是说，在当前task任务后，下一个task之前，在渲染之前")]),this._v(" "),s("li",[this._v("所以它的响应速度相比setTimeout（setTimeout是task）会更快，因为无需等渲染")]),this._v(" "),s("li",[this._v("也就是说，在某一个macrotask执行完后，就会将在它执行期间产生的所有microtask都执行完毕（在渲染前）")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("macrotask：主代码块，setTimeout，setInterval等（可以看到，事件队列中的每一个事件都是一个macrotask）")]),this._v(" "),s("li",[this._v("microtask：Promise，process.nextTick等")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("补充：在node环境下，process.nextTick的优先级高于Promise")]),this._v("，也就是可以简单理解为：在宏任务结束后会先执行微任务队列中的nextTickQueue部分，然后才会执行微任务中的Promise部分。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("macrotask中的事件都是放在一个事件队列中的，而这个队列由"),s("strong",[this._v("事件触发线程")]),this._v("维护")]),this._v(" "),s("li",[this._v("microtask中的所有微任务都是添加到微任务队列（Job Queues）中，等待当前macrotask执行完毕后执行，而这个队列由"),s("strong",[this._v("JS引擎线程维护")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("==执行一个宏任务（栈中没有就从事件队列中获取==）")]),t._v(" "),a("li",[t._v("==执行过程中如果遇到微任务，就将它添加到微任务的任务队列中==")]),t._v(" "),a("li",[t._v("==宏任务执行完毕后，立即执行当前微任务队列中的所有微任务（依次执行）==")]),t._v(" "),a("li",[t._v("当前宏任务执行完毕，开始检查渲染，然后GUI线程接管渲染")]),t._v(" "),a("li",[t._v("==渲染完毕后，JS线程继续接管，开始下一个宏任务（从事件队列中获取）==")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"https://segmentfault.com/img/remote/1460000012925885?w=392&h=740",alt:"img"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("另外，请注意下"),s("code",[this._v("Promise")]),this._v("的"),s("code",[this._v("polyfill")]),this._v("与官方版本的区别：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("官方版本中，是标准的microtask形式")]),this._v(" "),s("li",[this._v("polyfill，一般都是通过setTimeout模拟的，所以是macrotask形式")]),this._v(" "),s("li",[this._v("请特别注意这两点区别")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"事件触发三阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件触发三阶段","aria-hidden":"true"}},[this._v("#")]),this._v(" 事件触发三阶段")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[a("code",[t._v("document")]),t._v(" 往事件触发处传播，遇到注册的==捕获事件==会触发")])]),t._v(" "),a("li",[a("p",[t._v("传播到事件触发处时==触发注册==的事件")])]),t._v(" "),a("li",[a("p",[t._v("从事件触发处往 "),a("code",[t._v("document")]),t._v(" 传播，遇到注册的==冒泡事件==会触发")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ofluknnfq.bkt.clouddn.com/blog/180801/1LkJhc1E43.png?imageslim",alt:"mark"}})]),t._v(" "),a("p",[t._v("除了采用addEventListener绑定事件可以用于定义捕捉阶段和冒泡阶段触发事件， 其它绑定事件的方法只在==冒泡阶段==触发事件。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"事件代理或事件委托"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件代理或事件委托","aria-hidden":"true"}},[this._v("#")]),this._v(" 事件代理或事件委托")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("ul id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"ul"')]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token number"}},[t._v("3")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),a("span",{attrs:{class:"token number"}},[t._v("5")]),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("li"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("ul"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" ul "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'ul'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tul"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'click'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("//\t兼容性处理")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" event "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" event "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" event"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token operator"}},[t._v("==")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n           console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"box"')]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"button"')]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"add"')]),t._v(" value"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"添加"')]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"button"')]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"remove"')]),t._v(" value"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"删除"')]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"button"')]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"move"')]),t._v(" value"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"移动"')]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n        "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("input type"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"button"')]),t._v(" id"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"select"')]),t._v(" value"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"选择"')]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v("<")]),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Add "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"add"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Remove "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"remove"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Move "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"move"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" Select "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"select"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \n            Add"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'添加'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            Remove"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'删除'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            Move"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'移动'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            Select"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'选择'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            \n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oBox "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"box"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            oBox"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toLocaleLowerCase")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'input'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{attrs:{class:"token keyword"}},[t._v("switch")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'add'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'添加'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'remove'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'删除'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'move'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'移动'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'select'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                            "),a("span",{attrs:{class:"token function"}},[t._v("alert")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'选择'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                            "),a("span",{attrs:{class:"token keyword"}},[t._v("break")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("         \n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("input")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("button"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("btn"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("添加"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("ul1"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("111"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("222"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("333"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("444"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oBtn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oUl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"ul1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" aLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \n            "),a("span",{attrs:{class:"token comment"}},[t._v("//鼠标移入变红，移出变白")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'red'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#fff'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{attrs:{class:"token comment"}},[t._v("//添加新节点")]),t._v("\n            oBtn"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                num"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("111")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oBtn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oUl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"ul1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" aLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \n            "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("mHover")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token comment"}},[t._v("//鼠标移入变红，移出变白")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token number"}},[t._v("0")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("i"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'red'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    aLi"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'#fff'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{attrs:{class:"token function"}},[t._v("mHover")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token comment"}},[t._v("//添加新节点")]),t._v("\n            oBtn"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                num"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("111")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token function"}},[t._v("mHover")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oBtn "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oUl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"ul1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" aLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getElementsByTagName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" num "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("4")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \n            "),a("span",{attrs:{class:"token comment"}},[t._v("//事件委托，添加的子元素也有事件")]),t._v("\n            oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseover")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"red"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                \n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onmouseout")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" target "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" ev"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("srcElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nodeName"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toLowerCase")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    target"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("background "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"#fff"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                \n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            \n            "),a("span",{attrs:{class:"token comment"}},[t._v("//添加新节点")]),t._v("\n            oBtn"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                num"),a("span",{attrs:{class:"token operator"}},[t._v("++")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" oLi "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'li'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("111")]),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("num"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                oUl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oLi"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("节省内存")]),this._v(" "),s("li",[this._v("不需要给子节点注销事件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://ofluknnfq.bkt.clouddn.com/blog/180801/kkAC36h7lK.png?imageslim",alt:"mark"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_9-解析url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-解析url","aria-hidden":"true"}},[this._v("#")]),this._v(" 9. 解析URL")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("protocol")]),t._v("，协议头，譬如有http，ftp等")]),t._v(" "),a("li",[a("code",[t._v("host")]),t._v("，主机域名或IP地址")]),t._v(" "),a("li",[a("code",[t._v("port")]),t._v("，端口号")]),t._v(" "),a("li",[a("code",[t._v("path")]),t._v("，目录路径")]),t._v(" "),a("li",[a("code",[t._v("query")]),t._v("，即查询参数")]),t._v(" "),a("li",[a("code",[t._v("fragment")]),t._v("，即"),a("code",[t._v("#")]),t._v("后的hash值，一般用来定位到某个位置")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"_10-网络请求都是单独的线程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-网络请求都是单独的线程","aria-hidden":"true"}},[this._v("#")]),this._v(" 10. 网络请求都是单独的线程")])}],!1,null,null,null);s.default=e.exports}}]);