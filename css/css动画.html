<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CSS动画 | Mavericker&#39;s Blog</title>
    <meta name="description" content="赵佐骑的个人博客，前端">
    <link rel="icon" href="/fav.ico">
  <script type="text/javascript">var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?5a982c6c5e0d0d786523e60a7a647022";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script>
    
    <link rel="preload" href="/assets/css/0.styles.76307617.css" as="style"><link rel="preload" href="/assets/js/app.813c17b6.js" as="script"><link rel="preload" href="/assets/js/20.bbe25a47.js" as="script"><link rel="prefetch" href="/assets/js/12.e71bc87f.js"><link rel="prefetch" href="/assets/js/2.b8909fec.js"><link rel="prefetch" href="/assets/js/3.8d04fbbf.js"><link rel="prefetch" href="/assets/js/4.76cb4dbf.js"><link rel="prefetch" href="/assets/js/5.82846fcf.js"><link rel="prefetch" href="/assets/js/6.d026f6bc.js"><link rel="prefetch" href="/assets/js/7.614c0c26.js"><link rel="prefetch" href="/assets/js/8.91f64669.js"><link rel="prefetch" href="/assets/js/9.bd03efb0.js"><link rel="prefetch" href="/assets/js/10.b72941af.js"><link rel="prefetch" href="/assets/js/11.55c4af94.js"><link rel="prefetch" href="/assets/js/13.1b4e26a1.js"><link rel="prefetch" href="/assets/js/14.6ce88fa2.js"><link rel="prefetch" href="/assets/js/15.53815097.js"><link rel="prefetch" href="/assets/js/16.3d021803.js"><link rel="prefetch" href="/assets/js/17.ac6b335f.js"><link rel="prefetch" href="/assets/js/18.539a72e1.js"><link rel="prefetch" href="/assets/js/19.46c5d299.js"><link rel="prefetch" href="/assets/js/21.b57b41b7.js"><link rel="prefetch" href="/assets/js/22.24104113.js"><link rel="prefetch" href="/assets/js/23.a1aadb14.js"><link rel="prefetch" href="/assets/js/24.7f66a479.js"><link rel="prefetch" href="/assets/js/25.0d998f42.js"><link rel="prefetch" href="/assets/js/26.0448ab80.js"><link rel="prefetch" href="/assets/js/27.20ca2d83.js"><link rel="prefetch" href="/assets/js/28.56900e6e.js"><link rel="prefetch" href="/assets/js/29.580fb71b.js"><link rel="prefetch" href="/assets/js/30.9b752411.js"><link rel="prefetch" href="/assets/js/31.71a3e01f.js"><link rel="prefetch" href="/assets/js/32.633b1158.js"><link rel="prefetch" href="/assets/js/33.f80c8c22.js"><link rel="prefetch" href="/assets/js/34.f4d2a30d.js"><link rel="prefetch" href="/assets/js/35.3ad15739.js"><link rel="prefetch" href="/assets/js/36.324804a5.js"><link rel="prefetch" href="/assets/js/37.59925d68.js"><link rel="prefetch" href="/assets/js/38.e6f8d299.js"><link rel="prefetch" href="/assets/js/39.46060081.js"><link rel="prefetch" href="/assets/js/40.92805123.js"><link rel="prefetch" href="/assets/js/41.8516a958.js"><link rel="prefetch" href="/assets/js/42.985e6416.js"><link rel="prefetch" href="/assets/js/43.770aaa1a.js"><link rel="prefetch" href="/assets/js/44.56039045.js"><link rel="prefetch" href="/assets/js/45.07330c76.js"><link rel="prefetch" href="/assets/js/46.6d200ff4.js"><link rel="prefetch" href="/assets/js/47.2ecec06c.js"><link rel="prefetch" href="/assets/js/48.2a749d70.js"><link rel="prefetch" href="/assets/js/49.5defabfe.js"><link rel="prefetch" href="/assets/js/50.391c2931.js"><link rel="prefetch" href="/assets/js/51.823ddd3e.js"><link rel="prefetch" href="/assets/js/52.272e9779.js"><link rel="prefetch" href="/assets/js/53.dd41478f.js"><link rel="prefetch" href="/assets/js/54.bdd75c33.js"><link rel="prefetch" href="/assets/js/55.6713f330.js"><link rel="prefetch" href="/assets/js/56.19a9b3e2.js"><link rel="prefetch" href="/assets/js/57.30130f5c.js"><link rel="prefetch" href="/assets/js/58.63ce249b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76307617.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mavericker's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/network/" class="nav-link">网络</a></div><div class="nav-item"><a href="/css/" class="nav-link router-link-active">CSS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/basic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/javascript/pro/" class="nav-link">JavaScript专题</a></li></ul></div></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">个人简历</a></div><div class="nav-item"><a href="https://github.com/Mavericker-1996/Mavericker-1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/network/" class="nav-link">网络</a></div><div class="nav-item"><a href="/css/" class="nav-link router-link-active">CSS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/basic/" class="nav-link">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/javascript/pro/" class="nav-link">JavaScript专题</a></li></ul></div></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">个人简历</a></div><div class="nav-item"><a href="https://github.com/Mavericker-1996/Mavericker-1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/css/" class="sidebar-link">CSS</a></li><li><a href="/css/css动画.html" class="active sidebar-link">CSS动画</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/css/css动画.html#基础知识" class="sidebar-link">基础知识</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#transition与animation" class="sidebar-link">transition与animation</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#逐帧动画" class="sidebar-link">逐帧动画</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#加载动画" class="sidebar-link">加载动画</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#闪烁动画" class="sidebar-link">闪烁动画</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#打字动画" class="sidebar-link">打字动画</a></li><li class="sidebar-sub-header"><a href="/css/css动画.html#环绕路径动画" class="sidebar-link">环绕路径动画</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="css动画"><a href="#css动画" aria-hidden="true" class="header-anchor">#</a> CSS动画</h1> <h2 id="基础知识"><a href="#基础知识" aria-hidden="true" class="header-anchor">#</a> 基础知识</h2> <p>如果你对animation，transition，transform，translate傻傻分不清的话，可以先阅读一下这篇<a href="https://juejin.im/post/5b137e6e51882513ac201dfb" target="_blank" rel="noopener noreferrer">文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。这里贴出一个表格加以概括：</p> <table><thead><tr><th style="text-align:left">属性</th> <th>含义</th></tr></thead> <tbody><tr><td style="text-align:left">animation</td> <td>动画；用于设置动画属性，他是一个简写的属性，包含6个属性</td></tr> <tr><td style="text-align:left">transition</td> <td>过渡；用于设置元素的样式过度，和animation有着类似的效果，但细节上有很大的不同</td></tr> <tr><td style="text-align:left">transform</td> <td>变形；用于元素进行旋转、缩放、移动或倾斜，和设置样式的动画并没有什么关系，就相当于color一样用来设置元素的“外表”</td></tr> <tr><td style="text-align:left">translate</td> <td>移动； translate只是transform的一个属性值，即移动。</td></tr></tbody></table> <h2 id="transition与animation"><a href="#transition与animation" aria-hidden="true" class="header-anchor">#</a> transition与animation</h2> <p>下面再介绍一下transition和animation的各自特点：</p> <h3 id="transition"><a href="#transition" aria-hidden="true" class="header-anchor">#</a> transition</h3> <ol><li>需要事件触发，所以没法在网页加载时自动发生</li> <li>是一次性的，不能重复发生，除非一再触发</li> <li>只能定义开始状态和结束状态，不能定义中间状态，也就是说只有两个状态</li> <li>一条transition规则，只能定义一个属性的变化，不能涉及多个属性。</li></ol> <h3 id="animation"><a href="#animation" aria-hidden="true" class="header-anchor">#</a> animation</h3> <p>在官方的介绍上介绍这个属性是transition属性的扩展，弥补了transition的很多不足，我理解为animation是由多个transition的效果叠加，并且可操作性更强，能够做出复杂酷炫的效果(前提是你爱折腾)</p> <p>animation与transition 不同的是，keyframes提供更多的控制，尤其是时间轴的控制，这点让css animation更加强大，使得flash的部分动画效果可以由css直接控制完成，而这一切，仅仅只需要几行代码，也因此诞生了大量基于css的动画库，用来取代flash的动画部分。</p> <h3 id="不同点"><a href="#不同点" aria-hidden="true" class="header-anchor">#</a> 不同点</h3> <ol><li>触发条件不同。transition通常和hover等事件配合使用，由事件触发。animation则和gif动态图差不多，立即播放。</li> <li>循环。 animation可以设定循环次数。</li> <li>精确性。 animation可以设定每一帧的样式和时间。tranistion 只能设定头尾。 animation中可以设置每一帧需要单独变化的样式属性， transition中所有样式属性都要一起变化。</li> <li>与javascript的交互。animation与js的交互不是很紧密。tranistion和js的结合更强大。js设定要变化的样式，transition负责动画效果，天作之合，比之前只能用js时爽太多。</li></ol> <h3 id="结论"><a href="#结论" aria-hidden="true" class="header-anchor">#</a> 结论</h3> <ol><li>如果要灵活定制多个帧以及循环，用animation。</li> <li>如果要简单的from to 效果，用 transition。</li> <li>如果要使用js灵活设定动画属性，用transition。</li></ol> <h2 id="逐帧动画"><a href="#逐帧动画" aria-hidden="true" class="header-anchor">#</a> 逐帧动画</h2> <p>这个知识点在《CSS揭秘》一书中也有介绍，下面给出一个例子。</p> <p>首先我们给出每一帧图片拼接成的雪碧图：</p> <p><img src="http://ofluknnfq.bkt.clouddn.com/blog/180917/h3HAKj0d56.png?imageslim" alt="mark"></p> <p>下面我们就通过调整background-position让它动起来：看不见的可以点击<a href="http://jsfiddle.net/Mavericker/hndwvpsx/53/embedded/html,css,result/" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/hndwvpsx/53/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe> <p>方法就是通过使用<code>steps()</code>这个阶跃调速函数来设置<code>animation-timing-function</code>从而达到逐帧切换的效果。</p> <h2 id="加载动画"><a href="#加载动画" aria-hidden="true" class="header-anchor">#</a> 加载动画</h2> <p>思想就是通过调整<code>&lt;span&gt;</code>标签的宽度和<code>margin-right</code>来达到显示一个点，两个点。三个点的效果，这里需要注意的是要将<code>&lt;span&gt;</code>设为<code>inline-block</code>变成块级元素才可以设置<code>width</code>，看不见的可以点[这里](//jsfiddle.net/Mavericker/fg2e05at/46/embedded/html,css,result/&quot; allowfullscreen=&quot;allowfullscreen)：</p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/fg2e05at/46/embedded/html,css,result/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe> <h2 id="闪烁动画"><a href="#闪烁动画" aria-hidden="true" class="header-anchor">#</a> 闪烁动画</h2> <p>思想就是在关键帧为50%的时候调整<code>opacity</code>或者<code>color</code>或者<code>background</code>属性，将其设为透明(transparent)，并使用<code>steps(1)</code>函数实现硬切的效果。看不见的可以点<a href="//jsfiddle.net/Mavericker/zhsxbfu8/50/embedded/html,css,result/">这里</a>。</p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/zhsxbfu8/50/embedded/html,css,result/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe> <h2 id="打字动画"><a href="#打字动画" aria-hidden="true" class="header-anchor">#</a> 打字动画</h2> <h3 id="ch单位"><a href="#ch单位" aria-hidden="true" class="header-anchor">#</a> ch单位</h3> <p>思想就是运用<code>ch</code>这个单位，之所以要用这个单位，原因就是<code>font-size</code>属性相对高度而言的，比如说<code>font-size=12px</code>，那么对于中文字符，高宽一致，所以宽度也是12px，而对于英文字体就不一样了，有些字母的高度宽度是不一致的，所以我们没有办法通过<code>font-size</code>设置的大小来推断出一串英文字符的宽度。这里就引出了<code>ch</code>这个单位。</p> <p>它表示'0'字形的宽度，它应该是最不为人知的一个新单位。但对于等宽字体来说，这是一个例外。<strong>在等宽字体中，‘0’字形的宽度和其他所有字形的宽度是一样的</strong>。因此，如果我们用ch单位来表达英文字符串的宽度，那取值实际上就是字符的数量。像我们常用的Consolas就是英文等宽字体。</p> <h3 id="具体实现"><a href="#具体实现" aria-hidden="true" class="header-anchor">#</a> 具体实现</h3> <p>这样我们就可以为宽度设置关键帧了，然后结合<code>steps</code>函数，对于光标的显示我们可以通过<code>border-right</code>样式结合之前的闪烁动画加以实现。看不见的可以点<a href="//jsfiddle.net/Mavericker/mgn4rtdy/103/embedded/html,css,result/">这里</a>，如果想实现中文字符的打字效果，把ch换成em就好了。</p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/mgn4rtdy/103/embedded/html,css,result/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe> <h3 id="另外一种方法"><a href="#另外一种方法" aria-hidden="true" class="header-anchor">#</a> 另外一种方法</h3> <p>另外一种方法可以通过setTimeout()进行实现，每次多获取一个待打出的字符串的值，输出，覆盖原来输出的内容即可JS打字机效果。看不见的可以点<a href="//jsfiddle.net/Mavericker/4dtmjnxc/57/embedded/">这里</a>。这里实现了多行打印的效果，并通过<code>&lt;span&gt;</code>标签实现光标跟随闪烁的效果。</p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/4dtmjnxc/57/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe> <h2 id="环绕路径动画"><a href="#环绕路径动画" aria-hidden="true" class="header-anchor">#</a> 环绕路径动画</h2> <p>方法就是通过设置<code>transform-origin</code>来确认环绕中心的位置，然后通过对<code>transform:rotate</code>设置关键帧，即从0deg转到360deg即可，看不见的可以点<a href="//jsfiddle.net/Mavericker/pnbuy02d/28/embedded/">这里</a>。</p> <iframe width="100%" height="300" src="//jsfiddle.net/Mavericker/pnbuy02d/28/embedded/" allowfullscreen="allowfullscreen" allowpaymentrequest frameborder="0"></iframe></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/20.bbe25a47.js" defer></script><script src="/assets/js/app.813c17b6.js" defer></script>
  </body>
</html>
