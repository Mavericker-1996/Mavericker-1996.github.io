<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>继承   | Mavericker&#39;s Blog</title>
    <meta name="description" content="赵佐骑的个人博客，前端">
    <link rel="icon" href="/fav.ico">
  <script type="text/javascript">var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "https://hm.baidu.com/hm.js?5a982c6c5e0d0d786523e60a7a647022";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script>
    
    <link rel="preload" href="/assets/css/0.styles.76307617.css" as="style"><link rel="preload" href="/assets/js/app.813c17b6.js" as="script"><link rel="preload" href="/assets/js/26.0448ab80.js" as="script"><link rel="prefetch" href="/assets/js/12.e71bc87f.js"><link rel="prefetch" href="/assets/js/2.b8909fec.js"><link rel="prefetch" href="/assets/js/3.8d04fbbf.js"><link rel="prefetch" href="/assets/js/4.76cb4dbf.js"><link rel="prefetch" href="/assets/js/5.82846fcf.js"><link rel="prefetch" href="/assets/js/6.d026f6bc.js"><link rel="prefetch" href="/assets/js/7.614c0c26.js"><link rel="prefetch" href="/assets/js/8.91f64669.js"><link rel="prefetch" href="/assets/js/9.bd03efb0.js"><link rel="prefetch" href="/assets/js/10.b72941af.js"><link rel="prefetch" href="/assets/js/11.55c4af94.js"><link rel="prefetch" href="/assets/js/13.1b4e26a1.js"><link rel="prefetch" href="/assets/js/14.6ce88fa2.js"><link rel="prefetch" href="/assets/js/15.53815097.js"><link rel="prefetch" href="/assets/js/16.3d021803.js"><link rel="prefetch" href="/assets/js/17.ac6b335f.js"><link rel="prefetch" href="/assets/js/18.539a72e1.js"><link rel="prefetch" href="/assets/js/19.46c5d299.js"><link rel="prefetch" href="/assets/js/20.bbe25a47.js"><link rel="prefetch" href="/assets/js/21.b57b41b7.js"><link rel="prefetch" href="/assets/js/22.24104113.js"><link rel="prefetch" href="/assets/js/23.a1aadb14.js"><link rel="prefetch" href="/assets/js/24.7f66a479.js"><link rel="prefetch" href="/assets/js/25.0d998f42.js"><link rel="prefetch" href="/assets/js/27.20ca2d83.js"><link rel="prefetch" href="/assets/js/28.56900e6e.js"><link rel="prefetch" href="/assets/js/29.580fb71b.js"><link rel="prefetch" href="/assets/js/30.9b752411.js"><link rel="prefetch" href="/assets/js/31.71a3e01f.js"><link rel="prefetch" href="/assets/js/32.633b1158.js"><link rel="prefetch" href="/assets/js/33.f80c8c22.js"><link rel="prefetch" href="/assets/js/34.f4d2a30d.js"><link rel="prefetch" href="/assets/js/35.3ad15739.js"><link rel="prefetch" href="/assets/js/36.324804a5.js"><link rel="prefetch" href="/assets/js/37.59925d68.js"><link rel="prefetch" href="/assets/js/38.e6f8d299.js"><link rel="prefetch" href="/assets/js/39.46060081.js"><link rel="prefetch" href="/assets/js/40.92805123.js"><link rel="prefetch" href="/assets/js/41.8516a958.js"><link rel="prefetch" href="/assets/js/42.985e6416.js"><link rel="prefetch" href="/assets/js/43.770aaa1a.js"><link rel="prefetch" href="/assets/js/44.56039045.js"><link rel="prefetch" href="/assets/js/45.07330c76.js"><link rel="prefetch" href="/assets/js/46.6d200ff4.js"><link rel="prefetch" href="/assets/js/47.2ecec06c.js"><link rel="prefetch" href="/assets/js/48.2a749d70.js"><link rel="prefetch" href="/assets/js/49.5defabfe.js"><link rel="prefetch" href="/assets/js/50.391c2931.js"><link rel="prefetch" href="/assets/js/51.823ddd3e.js"><link rel="prefetch" href="/assets/js/52.272e9779.js"><link rel="prefetch" href="/assets/js/53.dd41478f.js"><link rel="prefetch" href="/assets/js/54.bdd75c33.js"><link rel="prefetch" href="/assets/js/55.6713f330.js"><link rel="prefetch" href="/assets/js/56.19a9b3e2.js"><link rel="prefetch" href="/assets/js/57.30130f5c.js"><link rel="prefetch" href="/assets/js/58.63ce249b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.76307617.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Mavericker's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/network/" class="nav-link">网络</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/basic/" class="nav-link router-link-active">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/javascript/pro/" class="nav-link">JavaScript专题</a></li></ul></div></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">个人简历</a></div><div class="nav-item"><a href="https://github.com/Mavericker-1996/Mavericker-1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/network/" class="nav-link">网络</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/basic/" class="nav-link router-link-active">JavaScript基础</a></li><li class="dropdown-item"><!----> <a href="/javascript/pro/" class="nav-link">JavaScript专题</a></li></ul></div></div><div class="nav-item"><a href="/vue/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/react/" class="nav-link">React</a></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><a href="/article/" class="nav-link">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">个人简历</a></div><div class="nav-item"><a href="https://github.com/Mavericker-1996/Mavericker-1996.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/javascript/basic/" class="sidebar-link">JavaScript基础</a></li><li><a href="/javascript/basic/类型转换.html" class="sidebar-link">类型转换</a></li><li><a href="/javascript/basic/let和const.html" class="sidebar-link">let和const</a></li><li><a href="/javascript/basic/this相关.html" class="sidebar-link">this相关</a></li><li><a href="/javascript/basic/作用域链.html" class="sidebar-link">作用域链</a></li><li><a href="/javascript/basic/原型.html" class="sidebar-link">原型</a></li><li><a href="/javascript/basic/原型与继承.html" class="active sidebar-link">继承  </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#new-和-object-create-的区别" class="sidebar-link">new 和 Object.create()的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#示例一" class="sidebar-link">示例一</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#示例二" class="sidebar-link">示例二</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#原型链继承" class="sidebar-link">原型链继承</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#借用构造函数（经典继承）" class="sidebar-link">借用构造函数（经典继承）</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#组合继承" class="sidebar-link">组合继承</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#寄生组合" class="sidebar-link">寄生组合</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#es6-class" class="sidebar-link">es6 Class</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#简介" class="sidebar-link">简介</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#constructor-方法" class="sidebar-link">constructor 方法</a></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#不存在变量提升" class="sidebar-link">不存在变量提升</a></li></ul></li><li class="sidebar-sub-header"><a href="/javascript/basic/原型与继承.html#class的继承" class="sidebar-link">Class的继承</a></li></ul></li><li><a href="/javascript/basic/垃圾回收和内存泄漏.html" class="sidebar-link">垃圾回收和内存泄漏</a></li><li><a href="/javascript/basic/深拷贝与浅拷贝.html" class="sidebar-link">深拷贝与浅拷贝</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承</h1> <h2 id="new-和-object-create-的区别"><a href="#new-和-object-create-的区别" aria-hidden="true" class="header-anchor">#</a> new 和 Object.create()的区别</h2> <p>参考文章：
<a href="http://frontendnotes.net/what-the-difference-between-object-create-and-new-keyword/" target="_blank" rel="noopener noreferrer">What's the difference between Object.create and new keyword?<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>对于Object.create()，官方定义为：</p> <blockquote><p>Object.create()方法创建一个新对象，使用现有的对象来提供新创建的对象的__proto__。</p></blockquote> <h3 id="示例一"><a href="#示例一" aria-hidden="true" class="header-anchor">#</a> 示例一</h3> <p>考虑如下例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> baz <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>对于<code>new Foo()</code>语句，发生了如下步骤：</p> <ol><li>返回了一个新对象并将其赋给bar变量</li> <li>将这个新对象的原型链接到<code>Foo.prototype</code>上（<code>bar.__proto__ = Foo.prototype</code>）</li> <li>执行构造函数（Foo）</li></ol> <p>要想对于Object.create()做了什么，我们首先看一下它的polyfill代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Object<span class="token punctuation">.</span>create<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>正如你看到的那样，<code>Object.create</code>返回了一个空的对象实例（构造函数F没有任何属性）并将其原型链接到传过来的参数对象o。</p> <p>所以对于<code>Object.create(Foo.prototype)</code>，发生了如下步骤：</p> <ol><li>返回了一个新对象并将其赋给bar变量</li> <li>将这个新对象的原型链接到<code>Foo.prototype</code>上（<code>baz.__proto__ = Foo.prototype</code>）</li></ol> <p>所以发现了两者区别了吗？<code>Object.create(Foo.prototype)</code>并没有执行构造函数Foo，所以当我们需要产生一个新对象并让它的原型链接到其他对象而不调用这个其他对象的构造函数的话，我们就可以使用它。这在我们实现继承的时候会非常方便。</p> <h3 id="示例二"><a href="#示例二" aria-hidden="true" class="header-anchor">#</a> 示例二</h3> <p>再举一个例子来验证一下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">Foo</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>greet <span class="token operator">=</span> <span class="token string">'Hello world!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">greeting</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I want to say: '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greet<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> baz <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

bar<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// prints 'I want to say: Hello world!'</span>
baz<span class="token punctuation">.</span><span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// prints `I want to say: undefined`</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>正如你看到的那样，当我们产生baz变量的时候，并没有执行构造函数Foo，所以就访问不到greet属性。</p> <h2 id="原型链继承"><a href="#原型链继承" aria-hidden="true" class="header-anchor">#</a> 原型链继承</h2> <p>子类的原型对象等于父类对象的实例 , 这样子类的实例即能访问到父类对象的实例方法，也能访问到其原型属性的方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'kevin'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">// kevin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>此时<code>Child.prototype.constructor = Parent</code>，因为<strong>constructor 的含义是返回指向创建了该对象原型的函数引用</strong>。</p> <p>问题：</p> <p>1.<u>引用类型的属性被所有实例共享</u>，举个例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token string">'daisy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

child1<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'yayu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;]</span>

<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>2.<u>在创建 Child 的实例时，不能向Parent传参</u></p> <h2 id="借用构造函数（经典继承）"><a href="#借用构造函数（经典继承）" aria-hidden="true" class="header-anchor">#</a> 借用构造函数（经典继承）</h2> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token string">'daisy'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

child1<span class="token punctuation">.</span>names<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'yayu'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;kevin&quot;, &quot;daisy&quot;, &quot;yayu&quot;]</span>

child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//getName() is not a function 即访问不到父类的方法</span>

<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>names<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;kevin&quot;, &quot;daisy&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>优点：</p> <p>1.避免了引用类型的属性被所有实例共享</p> <p>2.可以在 Child 中向 Parent 传参</p> <p>举个例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'kevin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// kevin</span>

<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'daisy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// daisy</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>缺点：</p> <p>方法都在构造函数中定义，此时是访问不到Parent中原型的方法的，每次创建实例都会创建一遍方法。</p> <h2 id="组合继承"><a href="#组合继承" aria-hidden="true" class="header-anchor">#</a> 组合继承</h2> <p>原型链继承和经典继承双剑合璧。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Child<span class="token punctuation">;</span><span class="token comment">//修改构造函数指向，因为子类也需要有自己的构造函数</span>

<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

child1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// kevin</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]</span>

<span class="token keyword">var</span> child2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'daisy'</span><span class="token punctuation">,</span> <span class="token string">'20'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// daisy</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child2<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>优点：融合原型链继承和构造函数的优点，是 JavaScript 中最常用的继承模式。</p> <p>缺点：调用了两次父类构造函数，生成了两份实例（子类实例将子类原型上的那份屏蔽了），多消耗了一点点内存。</p> <h2 id="寄生组合"><a href="#寄生组合" aria-hidden="true" class="header-anchor">#</a> 寄生组合</h2> <p>核心：通过寄生方式，砍掉父类的实例属性，这样，在调用两次父类的构造的时候，就不会初始化两次实例方法/属性，避免的组合继承的缺点组合继承中调用了两次构造函数，<strong>其实子类的prototype中不需要父类的构造函数的属性。</strong></p> <p>所以，在这个例子中，如果我们打印 child1 对象，我们会发现 Child.prototype 和 child1 都有一个属性为<code>colors</code>，属性值为<code>['red', 'blue', 'green']</code>。</p> <p>那么我们该如何精益求精，避免这一次重复调用呢？</p> <p>如果我们不使用 Child.prototype = new Parent() ，而是间接的让 Child.prototype 访问到 Parent.prototype 呢？</p> <p>直接采用等号赋值<code>Child.prototype = Parent.prototype</code>肯定不行，<strong>因为当修改Child.prototype后，会直接影响到Parent.prototype:</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Parent</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'yellow'</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

Child<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getAge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'zzq'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> parent1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Parent</span><span class="token punctuation">(</span><span class="token string">'zsb'</span><span class="token punctuation">)</span>
child1<span class="token punctuation">.</span>colors<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'black'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'child1'</span><span class="token punctuation">,</span> child1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'parent1'</span><span class="token punctuation">,</span> parent1<span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
child1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zzq</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 18</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">.</span>colors<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;black&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>在直接赋值之后，我在Child.prototype上添加了一个getAge的方法，在打印出的parent1的原型链上，我们也能看到这个方法，这并不符合我们的期望：</p> <p><img src="data:image/png;base64,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" alt></p> <p>所以我们需要将Parent.prototype复制一份，并将其链接到Child.prototype上。这里就用到了ES5中<code>Object.create()</code>方法，把<code>Child.prototype = new Parent();</code>改为<code>Child.prototype = Object.create(Parent.prototype)</code>即可。</p> <p>一个不用<code>Object.create()</code>的例子</p> <p>看看如何实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Parent</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>colors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span> <span class="token string">'blue'</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Child</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Parent<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 关键的三步</span>
<span class="token keyword">var</span> <span class="token function-variable function">F</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Parent<span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

Child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> child1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token string">'kevin'</span><span class="token punctuation">,</span> <span class="token string">'18'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>child1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>最后我们封装一下这个继承方法：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">object</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token constant">F</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> o<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">prototype</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> prototype <span class="token operator">=</span> <span class="token function">object</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
    prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> child<span class="token punctuation">;</span>
    child<span class="token punctuation">.</span>prototype <span class="token operator">=</span> prototype<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 当我们使用的时候：</span>
<span class="token function">prototype</span><span class="token punctuation">(</span>Child<span class="token punctuation">,</span> Parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>引用《JavaScript高级程序设计》中对寄生组合式继承的夸赞就是：</p> <blockquote><p>这种方式的高效率体现它只调用了一次 Parent 构造函数，并且因此避免了在 Parent.prototype 上面创建不必要的、多余的属性。与此同时，原型链还能保持不变；因此，还能够正常使用 instanceof 和 isPrototypeOf。开发人员普遍认为寄生组合式继承是引用类型最理想的继承范式。</p></blockquote> <h2 id="es6-class"><a href="#es6-class" aria-hidden="true" class="header-anchor">#</a> es6 Class</h2> <h3 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h3> <p>JavaScript 语言中，生成实例对象的传统方法是通过构造函数。下面是一个例子。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
 	<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 Point<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 	<span class="token keyword">return</span> <span class="token template-string"><span class="token string">`(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(2,3)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上面这种写法跟传统的面向对象语言（比如 C++ 和 Java）差异很大，很容易让新学习这门语言的程序员感到困惑。</p> <p>ES6 提供了更接近传统语言的写法，引入了 Class（类）这个概念，作为对象的模板。通过<code>class</code>关键字，可以定义类。</p> <p>基本上，ES6 的<code>class</code>可以看作只是一个语法糖，它的绝大部分功能，ES5 都可以做到，新的<code>class</code>写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已。上面的代码用 ES6 的<code>class</code>改写，就是下面这样。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> <span class="token keyword">class</span> <span class="token class-name">Point</span><span class="token punctuation">{</span>
 	<span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">{</span>
 		<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
 		<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
 	<span class="token punctuation">}</span>

 	<span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 		<span class="token keyword">return</span> <span class="token template-string"><span class="token string">`(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)`</span></span><span class="token punctuation">;</span>
 	<span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码定义了一个“类”，可以看到里面有一个<code>constructor</code>方法，这就是构造方法，而<code>this</code>关键字则代表实例对象。也就是说，ES5 的构造函数<code>Point</code>，对应 ES6 的<code>Point</code>类的构造方法。</p> <p><code>Point</code>类除了构造方法，还定义了一个<code>toString</code>方法。注意，定义“类”的方法的时候，前面不需要加上<code>function</code>这个关键字，直接把函数定义放进去了就可以了。另外，方法之间不需要逗号分隔，加了会报错。</p> <p>ES6 的类，完全可以看作构造函数的另一种写法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token keyword">typeof</span> Point <span class="token comment">// &quot;function&quot;</span>
Point <span class="token operator">===</span> Point<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面代码表明，类的数据类型就是函数，类本身就指向构造函数。</p> <p>构造函数的<code>prototype</code>属性，在 ES6 的“类”上面继续存在。事实上，<strong>类的所有方法都定义在类的<code>prototype</code>属性上面。</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token function">toValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>

Point<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>在类的实例上面调用方法，其实就是调用原型上的方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

b<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">B</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面代码中，<code>b</code>是<code>B</code>类的实例，它的<code>constructor</code>方法就是<code>B</code>类原型的<code>constructor</code>方法。</p> <p>由于类的方法都定义在<code>prototype</code>对象上面，所以类的新方法可以添加在<code>prototype</code>对象上面。<code>Object.assign</code>方法可以很方便地一次向类添加多个方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>另外，类的内部所有定义的方法，都是不可枚举的（non-enumerable）。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">// []</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">// [&quot;constructor&quot;,&quot;toString&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面代码中，<code>toString</code>方法是<code>Point</code>类内部定义的方法，它是不可枚举的。这一点与 ES5 的行为不一致。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">Point</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Point<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">// [&quot;toString&quot;]</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>Point<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">// [&quot;constructor&quot;,&quot;toString&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面代码采用 ES5 的写法，<code>toString</code>方法就是可枚举的。</p> <h3 id="constructor-方法"><a href="#constructor-方法" aria-hidden="true" class="header-anchor">#</a> constructor 方法</h3> <p><code>constructor</code>方法是类的默认方法，通过<code>new</code>命令生成对象实例时，自动调用该方法。一个类必须有<code>constructor</code>方法，如果没有显式定义，一个空的<code>constructor</code>方法会被默认添加。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>上面代码中，定义了一个空的类<code>Point</code>，JavaScript 引擎会自动为它添加一个空的<code>constructor</code>方法。</p> <p>与 ES5 一样，实例的属性除非显式定义在其本身（即定义在<code>this</code>对象上），否则都是定义在原型上（即定义在<code>class</code>上）。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//定义类</span>
<span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'('</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">', '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">var</span> point <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

point<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// (2, 3)</span>

point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
point<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
point<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>上面代码中，<code>x</code>和<code>y</code>都是实例对象<code>point</code>自身的属性（因为定义在<code>this</code>变量上），所以<code>hasOwnProperty</code>方法返回<code>true</code>，而<code>toString</code>是原型对象的属性（因为定义在<code>Point</code>类上），所以<code>hasOwnProperty</code>方法返回<code>false</code>。这些都与 ES5 的行为保持一致。</p> <p>关于<code>hasOwnProperty()</code>函数，可以参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。这个方法可以用来检测一个对象是否含有特定的自身属性，该方法会忽略掉那些从原型链上继承到的属性。  。</p> <p>关于<code>in</code>运算符，如果指定的属性在指定的对象或其原型链中，则<strong>in 运算符</strong>返回<code>true</code>。</p> <p>与 ES5 一样，类的所有实例共享一个原型对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> p2<span class="token punctuation">.</span>__proto__
<span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码中，<code>p1</code>和<code>p2</code>都是<code>Point</code>的实例，它们的原型都是<code>Point.prototype</code>，所以<code>__proto__</code>属性是相等的。</p> <p>这也意味着，可以通过实例的<code>__proto__</code>属性为“类”添加方法。</p> <p><code>__proto__</code> 并不是语言本身的特性，这是各大厂商具体实现时添加的私有属性，虽然目前很多现代浏览器的 JS 引擎中都提供了这个私有属性，但依旧不建议在生产中使用该属性，避免对环境产生依赖。生产环境中，我们可以使用 <code>Object.getPrototypeOf</code> 方法来获取实例对象的原型，然后再来为原型添加方法/属性。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function-variable function">printName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token string">'Oops'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

p1<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Oops&quot;</span>
p2<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Oops&quot;</span>

<span class="token keyword">var</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
p3<span class="token punctuation">.</span><span class="token function">printName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// &quot;Oops&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码在<code>p1</code>的原型上添加了一个<code>printName</code>方法，由于<code>p1</code>的原型就是<code>p2</code>的原型，因此<code>p2</code>也可以调用这个方法。而且，此后新建的实例<code>p3</code>也可以调用这个方法。这意味着，使用实例的<code>__proto__</code>属性改写原型，必须相当谨慎，不推荐使用，因为这会改变“类”的原始定义，影响到所有实例。</p> <h3 id="不存在变量提升"><a href="#不存在变量提升" aria-hidden="true" class="header-anchor">#</a> 不存在变量提升</h3> <p>类不存在变量提升（hoist），这一点与 ES5 完全不同。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
<span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面代码中，<code>Foo</code>类使用在前，定义在后，这样会报错，因为 ES6 不会把类的声明提升到代码头部。这种规定的原因与下文要提到的继承有关，必须保证子类在父类之后定义。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token keyword">let</span> Foo <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">class</span> <span class="token class-name">Bar</span> <span class="token keyword">extends</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面的代码不会报错，因为<code>Bar</code>继承<code>Foo</code>的时候，<code>Foo</code>已经有定义了。但是，如果存在<code>class</code>的提升，上面代码就会报错，因为<code>class</code>会被提升到代码头部，而<code>let</code>命令是不提升的，所以导致<code>Bar</code>继承<code>Foo</code>的时候，<code>Foo</code>还没有定义。</p> <h2 id="class的继承"><a href="#class的继承" aria-hidden="true" class="header-anchor">#</a> Class的继承</h2> <p>Class 可以通过<code>extends</code>关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>上面代码定义了一个<code>ColorPoint</code>类，该类通过<code>extends</code>关键字，继承了<code>Point</code>类的所有属性和方法。但是由于没有部署任何代码，所以这两个类完全一样，等于复制了一个<code>Point</code>类。下面，我们在<code>ColorPoint</code>内部加上代码。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的constructor(x, y)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 调用父类的toString()</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码中，<code>constructor</code>方法和<code>toString</code>方法之中，都出现了<code>super</code>关键字，它在这里表示父类的构造函数，用来新建父类的<code>this</code>对象。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ES5 的继承，实质是先创造子类的实例对象<code>this</code>，然后再将父类的方法添加到<code>this</code>上面（<code>Parent.apply(this)</code>）。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到<code>this</code>上面（所以必须先调用<code>super</code>方法），然后再用子类的构造函数修改<code>this</code>。</p> <p>如果子类没有定义<code>constructor</code>方法，这个方法会被默认添加，代码如下。也就是说，不管有没有显式定义，任何一个子类都有<code>constructor</code>方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>另一个需要注意的地方是，在子类的构造函数中，只有调用<code>super</code>之后，才可以使用<code>this</code>关键字，否则会报错。这是因为子类实例的构建，基于父类实例，只有<code>super</code>方法才能调用父类实例。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ColorPoint</span> <span class="token keyword">extends</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token comment">// ReferenceError</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span> <span class="token comment">// 正确</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>上面代码中，子类的<code>constructor</code>方法没有调用<code>super</code>之前，就使用<code>this</code>关键字，结果报错，而放在<code>super</code>方法之后就是正确的。</p> <p>下面是生成子类实例的代码。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ColorPoint</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'green'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cp <span class="token keyword">instanceof</span> <span class="token class-name">ColorPoint</span> <span class="token comment">// true</span>
cp <span class="token keyword">instanceof</span> <span class="token class-name">Point</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>上面代码中，实例对象<code>cp</code>同时是<code>ColorPoint</code>和<code>Point</code>两个类的实例，这与 ES5 的行为完全一致。</p> <p>最后，父类的静态方法，也会被子类继承。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token keyword">extends</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// hello world</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>上面代码中，<code>hello()</code>是<code>A</code>类的静态方法，<code>B</code>继承<code>A</code>，也继承了<code>A</code>的静态方法。</p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/26.0448ab80.js" defer></script><script src="/assets/js/app.813c17b6.js" defer></script>
  </body>
</html>
